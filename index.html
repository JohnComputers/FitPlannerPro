<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitPlanner Pro - Your Fitness Journey</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Authentication Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="auth-container">
                <h1 class="auth-title">Welcome to FitPlanner Pro</h1>
                <div id="loginForm" class="auth-form">
                    <h2>Sign In</h2>
                    <input type="email" id="loginEmail" placeholder="Email" required>
                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <button onclick="handleLogin()" class="btn-primary">Sign In</button>
                    <p class="auth-switch">Don't have an account? <span onclick="showRegister()">Register</span></p>
                    <p class="auth-switch">or <span onclick="handleGuest()">Continue as Guest</span></p>
                </div>
                <div id="registerForm" class="auth-form" style="display: none;">
                    <h2>Create Account</h2>
                    <input type="email" id="registerEmail" placeholder="Email" required>
                    <input type="password" id="registerPassword" placeholder="Password" required>
                    <input type="password" id="registerPasswordConfirm" placeholder="Confirm Password" required>
                    <button onclick="handleRegister()" class="btn-primary">Create Account</button>
                    <p class="auth-switch">Already have an account? <span onclick="showLogin()">Sign In</span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="logo">FitPlanner<span class="logo-pro">Pro</span></h1>
                <div class="header-user">
                    <span id="userEmail" class="user-email"></span>
                    <span id="userTier" class="user-tier"></span>
                    <button onclick="handleLogout()" class="btn-logout">Logout</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('nutrition')">Nutrition Tracker</button>
            <button class="tab-btn" onclick="switchTab('goals')" id="goalsTab">
                <span>Nutrition Goals</span>
                <span class="lock-icon" id="goalsLock">üîí</span>
            </button>
            <button class="tab-btn" onclick="switchTab('workouts')" id="workoutsTab">
                <span>Workout Plans</span>
                <span class="lock-icon" id="workoutsLock">üîí</span>
            </button>
            <button class="tab-btn" onclick="switchTab('pricing')">Upgrade</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Nutrition Tracker Tab -->
            <div id="nutritionTab" class="tab-content active">
                <div class="section-header">
                    <h2>Daily Nutrition Tracker</h2>
                    <p class="section-subtitle">Track your macros and stay on target</p>
                </div>
                
                <div class="tracker-grid">
                    <div class="tracker-card">
                        <div class="card-header">
                            <h3>Add Today's Nutrition</h3>
                        </div>
                        <div class="input-group">
                            <label>Calories</label>
                            <input type="number" id="caloriesInput" placeholder="2000">
                        </div>
                        <div class="input-group">
                            <label>Protein (g)</label>
                            <input type="number" id="proteinInput" placeholder="150">
                        </div>
                        <div class="input-group">
                            <label>Carbohydrates (g)</label>
                            <input type="number" id="carbsInput" placeholder="200">
                        </div>
                        <div class="input-group">
                            <label>Sugar (g)</label>
                            <input type="number" id="sugarInput" placeholder="50">
                        </div>
                        <button onclick="addNutritionEntry()" class="btn-primary">Add Entry</button>
                    </div>

                    <div class="tracker-card">
                        <div class="card-header">
                            <h3>Today's Summary</h3>
                        </div>
                        <div class="summary-stats">
                            <div class="stat-item">
                                <span class="stat-label">Calories</span>
                                <span class="stat-value" id="totalCalories">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Protein</span>
                                <span class="stat-value" id="totalProtein">0g</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Carbs</span>
                                <span class="stat-value" id="totalCarbs">0g</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Sugar</span>
                                <span class="stat-value" id="totalSugar">0g</span>
                            </div>
                        </div>
                        <button onclick="clearTodayEntries()" class="btn-secondary">Clear Today</button>
                    </div>
                </div>

                <div class="history-section">
                    <h3>Recent Entries</h3>
                    <div id="entriesList" class="entries-list"></div>
                </div>
            </div>

            <!-- Nutrition Goals Tab -->
            <div id="goalsTab" class="tab-content">
                <div class="section-header">
                    <h2>Nutrition Goals</h2>
                    <p class="section-subtitle">Set your daily targets and track progress</p>
                </div>

                <div class="goals-container">
                    <div class="tracker-card">
                        <div class="card-header">
                            <h3>Set Your Goals</h3>
                        </div>
                        <div class="input-group">
                            <label>Target Calories</label>
                            <input type="number" id="goalCalories" placeholder="2000">
                        </div>
                        <div class="input-group">
                            <label>Target Protein (g)</label>
                            <input type="number" id="goalProtein" placeholder="150">
                        </div>
                        <button onclick="saveGoals()" class="btn-primary">Save Goals</button>
                    </div>

                    <div class="tracker-card">
                        <div class="card-header">
                            <h3>Current Goals</h3>
                        </div>
                        <div class="summary-stats">
                            <div class="stat-item">
                                <span class="stat-label">Target Calories</span>
                                <span class="stat-value" id="displayGoalCalories">Not Set</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Target Protein</span>
                                <span class="stat-value" id="displayGoalProtein">Not Set</span>
                            </div>
                        </div>
                        <div class="goal-progress">
                            <h4>Today's Progress</h4>
                            <div class="progress-bar-container">
                                <label>Calories</label>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="caloriesProgress" style="width: 0%"></div>
                                </div>
                                <span id="caloriesProgressText">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <label>Protein</label>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="proteinProgress" style="width: 0%"></div>
                                </div>
                                <span id="proteinProgressText">0%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Workout Plans Tab -->
            <div id="workoutsTab" class="tab-content">
                <div class="section-header">
                    <h2>Workout Plans</h2>
                    <p class="section-subtitle">Your complete training program</p>
                </div>

                <div class="workouts-grid">
                    <div class="workout-card">
                        <div class="workout-header push">
                            <h3>Push Day</h3>
                            <span class="workout-tag">Chest, Shoulders, Triceps</span>
                        </div>
                        <ul class="workout-exercises">
                            <li>Bench Press - 4x8-10</li>
                            <li>Overhead Press - 4x8-10</li>
                            <li>Incline Dumbbell Press - 3x10-12</li>
                            <li>Lateral Raises - 3x12-15</li>
                            <li>Tricep Dips - 3x10-12</li>
                            <li>Cable Flyes - 3x12-15</li>
                        </ul>
                    </div>

                    <div class="workout-card">
                        <div class="workout-header pull">
                            <h3>Pull Day</h3>
                            <span class="workout-tag">Back, Biceps</span>
                        </div>
                        <ul class="workout-exercises">
                            <li>Deadlifts - 4x6-8</li>
                            <li>Pull-ups - 4x8-10</li>
                            <li>Barbell Rows - 4x8-10</li>
                            <li>Face Pulls - 3x12-15</li>
                            <li>Barbell Curls - 3x10-12</li>
                            <li>Hammer Curls - 3x12-15</li>
                        </ul>
                    </div>

                    <div class="workout-card">
                        <div class="workout-header legs">
                            <h3>Leg Day</h3>
                            <span class="workout-tag">Quads, Hamstrings, Glutes</span>
                        </div>
                        <ul class="workout-exercises">
                            <li>Squats - 4x8-10</li>
                            <li>Romanian Deadlifts - 4x8-10</li>
                            <li>Leg Press - 3x10-12</li>
                            <li>Leg Curls - 3x12-15</li>
                            <li>Calf Raises - 4x15-20</li>
                            <li>Walking Lunges - 3x12 each leg</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Pricing Tab -->
            <div id="pricingTab" class="tab-content">
                <div class="section-header">
                    <h2>Upgrade Your Plan</h2>
                    <p class="section-subtitle">Unlock advanced features to reach your goals faster</p>
                </div>

                <div class="pricing-grid">
                    <div class="pricing-card">
                        <div class="pricing-header free">
                            <h3>Free</h3>
                            <div class="price">$0</div>
                        </div>
                        <ul class="features-list">
                            <li>‚úì Daily nutrition tracking</li>
                            <li>‚úì Calories, protein, carbs, sugar</li>
                            <li>‚úì Local data storage</li>
                            <li>‚úó Nutrition goals</li>
                            <li>‚úó Workout plans</li>
                        </ul>
                        <button class="btn-secondary" disabled>Current Plan</button>
                    </div>

                    <div class="pricing-card featured">
                        <div class="pricing-badge">Most Popular</div>
                        <div class="pricing-header pro">
                            <h3>Basic Pack</h3>
                            <div class="price">$5</div>
                        </div>
                        <ul class="features-list">
                            <li>‚úì Everything in Free</li>
                            <li>‚úì Nutrition goal setting</li>
                            <li>‚úì Progress tracking</li>
                            <li>‚úì Target calories & protein</li>
                            <li>‚úó Workout plans</li>
                        </ul>
                        <a href="https://square.link/u/EaNUJ0gy" class="btn-primary">Upgrade Now</a>
                    </div>

                    <div class="pricing-card">
                        <div class="pricing-header standard">
                            <h3>Standard Pack</h3>
                            <div class="price">$10</div>
                        </div>
                        <ul class="features-list">
                            <li>‚úì Everything in Basic</li>
                            <li>‚úì Enhanced goal tracking</li>
                            <li>‚úì Advanced analytics</li>
                            <li>‚úì Priority support</li>
                            <li>‚úó Workout plans</li>
                        </ul>
                        <a href="https://square.link/u/0cNYptZb" class="btn-primary">Upgrade Now</a>
                    </div>

                    <div class="pricing-card featured">
                        <div class="pricing-badge">Best Value</div>
                        <div class="pricing-header elite">
                            <h3>Premium Pack</h3>
                            <div class="price">$20</div>
                        </div>
                        <ul class="features-list">
                            <li>‚úì Everything in Standard</li>
                            <li>‚úì Complete workout plans</li>
                            <li>‚úì Push, Pull, Legs programs</li>
                            <li>‚úì Exercise recommendations</li>
                            <li>‚úì Full feature access</li>
                        </ul>
                        <a href="https://square.link/u/6Y9uWLVv" class="btn-primary">Upgrade Now</a>
                    </div>
                </div>

                <div class="donation-section">
                    <h3>Support FitPlanner Pro</h3>
                    <p>Love what we're building? Your donation helps us create better features!</p>
                    <a href="https://square.link/u/91I3ruxV" class="btn-donation">Make a Donation ‚ù§Ô∏è</a>
                </div>

                <div class="unlock-instructions">
                    <h4>How to Unlock Features</h4>
                    <p>After completing your purchase on Square, you'll be redirected back. Your features will unlock automatically!</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>&copy; 2024 FitPlanner Pro. Track smarter, achieve faster.</p>
        </footer>
    </div>

    <script src="auth.js"></script>
    <script src="app.js"></script>
    <script src="payments.js"></script>
    <script src="admin.js"></script>
</body>
</html>
